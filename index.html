<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>花工制霸 - 電摩改裝計算器</title>
<meta name="description" content="花工制霸 - 電摩改裝計算器，可查詢電機、控制器、速度、續航力與價格">
<meta name="keywords" content="電摩, 電動摩托, 改裝, 電機, 控制器, 速度, 續航力, 價格">
<style>
body{font-family:Arial;background:#121212;color:#f5f5f5;margin:0;padding:0;}
header{background:#1f1f1f;padding:20px;text-align:center;font-size:2em;font-weight:bold;color:#ffcc00;}
nav{background:#222;display:flex;justify-content:center;}
nav a{color:#f5f5f5;text-decoration:none;margin:10px 20px;padding:10px 15px;transition:.3s;}
nav a:hover{background:#ffcc00;color:#121212;border-radius:5px;}
section{padding:20px;max-width:1200px;margin:auto;}
h2{color:#ffcc00;border-bottom:2px solid #ffcc00;padding-bottom:5px;}
label{display:block;margin-top:15px;}
select{width:100%;padding:8px;margin-top:5px;border-radius:5px;border:none;font-size:1em;}
.result{margin-top:20px;background:#1f1f1f;padding:15px;border-radius:10px;box-shadow:0 0 10px #000;font-size:1.1em;}
.card-container{display:flex;flex-wrap:wrap;gap:20px;justify-content:flex-start;}
.card{background:#1f1f1f;padding:15px;border-radius:10px;width:250px;box-shadow:0 0 10px #000;transition:.3s;}
.card:hover{transform:scale(1.05);box-shadow:0 0 15px #ffcc00;}
footer{text-align:center;padding:20px;background:#1f1f1f;margin-top:20px;color:#888;}
</style>
</head>
<body>

<header>花工制霸 - 電摩改裝計算器</header>
<nav>
    <a href="#calculator">改裝計算器</a>
    <a href="#tutorial">其他教學與介紹</a>
</nav>

<section id="calculator">
<h2>改裝組合查詢（選電機與控制器）</h2>
<label for="motorSelect">選擇電機：</label>
<select id="motorSelect">
  <option value="2000">2000W</option>
  <option value="3000">3000W</option>
  <option value="3000WP">3000WP</option>
  <option value="5000WP">5000WP</option>
  <option value="6000WP">6000WP</option>
  <option value="9000WP">9000WP</option>
</select>

<label for="controllerSelect">選擇南京遠驅控制器：</label>
<select id="controllerSelect">
  <!-- 控制器選項會自動依電機篩選 -->
</select>

<div class="result" id="result">選擇電機以查看可用控制器及預估速度、續航力與價格（電池固定 72V）。</div>
</section>

<section id="tutorial">
<h2>其他教學與介紹</h2>
<div class="card-container">
  <div class="card">
    <h3>電機瓦數與瓦片說明</h3>
    <p>瓦數（W） = 電機整體「力量大小」</p>
    <p>瓦片（片） = 電機「扭力與轉速特性」</p>
    <p>瓦數高 + 瓦片大 → 扭力非常強，速度視電壓而定</p>
    <p>瓦數低 + 瓦片小 → 省電，但加速慢、爬坡弱</p>
  </div>
  <div class="card">
    <h3>坐等更新</h3>
    <p>閉嘴乖乖等。</p>
  </div>
</div>
</section>

<footer>&copy; 2025 花工制霸 | 版權所有</footer>

<script>
// 已知的實測速度資料
const speedData = {
  "72260": { "2000":80 },
  "72450": { "3000":90, "3000WP":120 },
  "72680": { "3000WP":130, "5000WP":135 },
  "72850": { "6000WP":140, "9000WP":170 },
  "72890": { "6000WP":145, "9000WP":180 }
};

// 每個電機可用控制器對應表
const motorControllers = {
  "2000": ["72260"],
  "3000": ["72450"],
  "3000WP": ["72450","72680"],
  "5000WP": ["72680"],
  "6000WP": ["72850","72890"],
  "9000WP": ["72850","72890"]
};

// 價格資料
const priceData = {
  motor: {
    "2000": 3500,
    "3000": 4000,
    "3000WP": 6500,
    "5000WP": 10000,
    "6000WP": 14000,
    "9000WP": 17500
  },
  controller: {
    "72260": 3800,
    "72450": 4800,
    "72680": 5500,
    "72850": 6500,
    "72890": 7500
  }
};

function updateControllers(){
  const motor = document.getElementById('motorSelect').value;
  const controllerSelect = document.getElementById('controllerSelect');
  controllerSelect.innerHTML = '';
  motorControllers[motor].forEach(ctrl=>{
    const option = document.createElement('option');
    option.value = ctrl;
    option.text = ctrl;
    controllerSelect.appendChild(option);
  });
  calculate();
}

function calculate(){
  const motor = document.getElementById('motorSelect').value;
  const controller = document.getElementById('controllerSelect').value;
  const resultDiv = document.getElementById('result');
  const batteryWh = 72*70; // 72V 70Ah

  let speed;

  if(speedData[controller] && speedData[controller][motor]){
    speed = speedData[controller][motor];
  }else{
    speed = (90 * (parseInt(motor.replace(/\D/g,''))/3000)).toFixed(1);
  }

  const motorPower = parseInt(motor.replace(/\D/g,'')); // 取數字部分
  const range = (batteryWh / motorPower * speed * 0.8).toFixed(1);

  const motorPrice = priceData.motor[motor] || "未知";
  const controllerPrice = priceData.controller[controller] || "未知";

  resultDiv.innerHTML = `
    <strong>選擇電機：</strong> ${motor}W<br>
    <strong>選擇控制器：</strong> ${controller}<br>
    <strong>固定電池：</strong> 72V 70Ah (5040Wh)<br>
    <strong>預估最高速度：</strong> ${speed} km/h<br>
    <strong>預估續航力：</strong> ${range} km<br>
    <strong>參考價格：</strong> 電機 NT$${motorPrice} | 控制器 NT$${controllerPrice}
  `;
}

document.getElementById('motorSelect').addEventListener('change', updateControllers);
document.getElementById('controllerSelect').addEventListener('change', calculate);

// 初次載入
updateControllers();
</script>
</body>
</html>
